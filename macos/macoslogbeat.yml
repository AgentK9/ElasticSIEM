################### macoslogbeat Configuration Example #########################

############################# macoslogbeat ######################################

macoslogbeat:
  # Defines how often an event is sent to the output
  period: 5s
# Defines the directory path where cache is stored
# cache.dir:
#excluded.subsystems:
#  - com.apple.bluetooth
#  - com.apple.GPUWrangler

# ================================== General ===================================

# The name of the shipper that publishes the network data. It can be used to group
# all the transactions sent by a single shipper in the web interface.
name: Finn Finn

# The tags of the shipper are included in their own field with each
# transaction published.
tags: ["macOS"]

# Optional fields that you can specify to add additional information to the
# output.
#fields:
#  env: staging


# =================================== Kibana ===================================

# Starting with Beats version 6.0.0, the dashboards are loaded via the Kibana API.
# This requires a Kibana endpoint configuration.
#setup.kibana:

# Kibana Host
# Scheme and port can be left out and will be set to the default (http and 5601)
# In case you specify and additional path, the scheme is required: http://localhost:5601/path
# IPv6 addresses should always be defined as: https://[2001:db8::1]:5601
#host: "localhost:5601"

# Kibana Space ID
# ID of the Kibana Space into which the dashboards should be loaded. By default,
# the Default Space will be used.
#space.id:

# ================================== Outputs ===================================

# Configure what output to use when sending the data collected by the beat.

# ------------------------------ Logstash Output -------------------------------
output.logstash:
  # The Logstash hosts
  hosts: ["b44007d6-3f02-4e87-80fe-b6a99779975b-ls.logit.io:23563"]

  # Optional SSL. By default is off.
  # List of root certificates for HTTPS server verifications
  #ssl.certificate_authorities: ["/etc/pki/root/ca.pem"]

  # Certificate for SSL client authentication
  #ssl.certificate: "/etc/pki/client/cert.pem"

  # Client Certificate Key
  #ssl.key: "/etc/pki/client/cert.key"

  # ================================= Processors =================================
  # Configure processors to enhance or manipulate events generated by the beat.

processors:
  - add_host_metadata: ~
  - drop_event.when:
      not.or:
       - contains.unifiedlog.subsystem: com.apple.loginwindow.logging
       - contains.unifiedlog.subsystem: com.apple.login
  - drop_fields:
      fields: ['unifiedlog.backtrace']
      ignore_missing: true
